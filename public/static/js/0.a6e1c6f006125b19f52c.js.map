{"version":3,"sources":["webpack:///src/pages/Login.vue","webpack:///./src/pages/Login.vue?6af2","webpack:///./src/pages/Login.vue"],"names":["vue_esm","prototype","$Message","iview","Login","name","data","loginBodyHeight","loginForm","user","passwd","ruleCustom","validator","rule","value","callback","Error","trigger","mounted","_this","this","document","documentElement","clientHeight","window","addEventListener","bodyHeight","methods","changeUseW3c","useW3c","handleSubmit","_this2","_self","$refs","validate","valid","obj","$qs","stringify","account","password","$axios","post","then","res","console","log","sessionStorage","setItem","code","$router","push","path","error","components","Row","Col","Form","FormItem","Input","Checkbox","Button","Icon","Message","pages_Login","render","_vm","_h","$createElement","_c","staticClass","style","height","attrs","type","justify","align","id","xs","sm","md","lg","_v","ref","model","rules","prop","placeholder","$$v","$set","expression","on","on-change","staticStyle","text-align","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sJA6CAA,EAAA,QAAAC,UAAAC,SAAAC,EAAA,QAcA,IAAAC,GACAC,KAAA,QACAC,KAFA,WAkBA,OACAC,gBAAA,IACAC,WACAC,KAAA,GACAC,OAAA,IAEAC,YACAF,OACAG,UAtBA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAC,MAAA,cAEAD,KAmBAE,QAAA,SAEAP,SACAE,UAnBA,SAAAC,EAAAC,EAAAC,GACA,KAAAD,EACAC,EAAA,IAAAC,MAAA,aAEAD,KAgBAE,QAAA,YAKAC,QApCA,WAoCA,IAAAC,EAAAC,KAEAA,KAAAb,gBAAAc,SAAAC,gBAAAC,aAMAC,OAAAC,iBAAA,oBACA,IAAAC,EAAAL,SAAAC,gBAAAC,aAEAJ,EAAAZ,gBADAmB,EAAA,IACAL,SAAAC,gBAAAC,aAEA,OAIAI,SACAC,aADA,WAEAR,KAAAS,QAAAT,KAAAS,QAEAC,aAJA,SAIAzB,GAAA,IAAA0B,EAAAX,KAEAY,EAAAZ,KACAA,KAAAa,MAAA5B,GAAA6B,SAAA,SAAAC,GACA,GAAAA,EAAA,CAEA,IAAAC,EAAAL,EAAAM,IAAAC,WACAC,QAAAR,EAAAvB,UAAAC,KACA+B,SAAAT,EAAAvB,UAAAE,SAEAqB,EAAAU,OAAAC,KAAA,sBAAAN,GAAAO,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GAEAG,eAAAC,QAAA,WAAAhB,EAAAxB,UAAAC,MACA,KAAAmC,EAAAtC,KAAA2C,KACAjB,EAAAkB,QAAAC,MACAC,KAAA,UAGApB,EAAA9B,SAAAmD,MAAA,kCAIAtB,EAAA7B,SAAAmD,MAAA,UAKAC,YACAC,IAAApD,EAAA,IACAqD,IAAArD,EAAA,IACAsD,KAAAtD,EAAA,KACAuD,SAAAvD,EAAA,SACAwD,MAAAxD,EAAA,MACAyD,SAAAzD,EAAA,SACA0D,OAAA1D,EAAA,OACA2D,KAAA3D,EAAA,KACA4D,QAAA5D,EAAA,UCtJA6D,GADiBC,OAFjB,WAA0B,IAAAC,EAAA9C,KAAa+C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAlC,MAAAqC,IAAAF,EAAwB,OAAAE,EAAA,OAAiBC,YAAA,UAAoBD,EAAA,OAAYE,OAAQC,OAAAN,EAAA3D,gBAAA,MAAgCkE,OAASC,KAAA,OAAAC,QAAA,SAAAC,MAAA,SAAAC,GAAA,WAAgER,EAAA,OAAYI,OAAOK,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,MAA8Bf,EAAAgB,GAAA,KAAAb,EAAA,OAAwBI,OAAOK,GAAA,GAAAC,GAAA,GAAAC,GAAA,GAAAC,GAAA,KAAgCZ,EAAA,OAAYI,OAAOI,GAAA,cAAiBR,EAAA,KAAUI,OAAOI,GAAA,gBAAmBR,EAAA,QAAAH,EAAAgB,GAAA,YAAAhB,EAAAgB,GAAA,KAAAb,EAAA,QAAuDc,IAAA,YAAAV,OAAuBW,MAAAlB,EAAA1D,UAAA6E,MAAAnB,EAAAvD,cAA8C0D,EAAA,YAAiBI,OAAOa,KAAA,UAAejB,EAAA,SAAcI,OAAOC,KAAA,OAAAa,YAAA,UAAqCH,OAAQtE,MAAAoD,EAAA1D,UAAA,KAAAO,SAAA,SAAAyE,GAAoDtB,EAAAuB,KAAAvB,EAAA1D,UAAA,OAAAgF,IAAqCE,WAAA,qBAA8B,GAAAxB,EAAAgB,GAAA,KAAAb,EAAA,YAAiCI,OAAOa,KAAA,YAAiBjB,EAAA,SAAcI,OAAOC,KAAA,WAAAa,YAAA,SAAwCH,OAAQtE,MAAAoD,EAAA1D,UAAA,OAAAO,SAAA,SAAAyE,GAAsDtB,EAAAuB,KAAAvB,EAAA1D,UAAA,SAAAgF,IAAuCE,WAAA,uBAAgC,GAAAxB,EAAAgB,GAAA,KAAAb,EAAA,YAAAA,EAAA,YAAgDsB,IAAIC,YAAA1B,EAAAtC,cAA6BwD,OAAQtE,MAAAoD,EAAA1D,UAAA,OAAAO,SAAA,SAAAyE,GAAsDtB,EAAAuB,KAAAvB,EAAA1D,UAAA,SAAAgF,IAAuCE,WAAA,sBAAgCxB,EAAAgB,GAAA,mBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,YAAuDwB,aAAaC,aAAA,YAAuBzB,EAAA,UAAesB,IAAII,MAAA,SAAAC,GAAyB9B,EAAApC,aAAA,iBAAgCoC,EAAAgB,GAAA,QAAAhB,EAAAgB,GAAA,KAAAb,EAAA,UAA0CI,OAAOC,KAAA,OAAAG,GAAA,qBAAsCX,EAAAgB,GAAA,kBAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OAAiDI,OAAOI,GAAA,eAAkBR,EAAA,KAAUI,OAAOI,GAAA,4BAA+BR,EAAA,QAAAH,EAAAgB,GAAA,WAAAhB,EAAAgB,GAAA,KAAAb,EAAA,KAAAH,EAAAgB,GAAA,cAAAhB,EAAAgB,GAAA,KAAAb,EAAA,KAA4FI,OAAOI,GAAA,sBAAyBR,EAAA,QAAaI,OAAOC,KAAA,mBAAwBR,EAAAgB,GAAA,qEAAAhB,EAAAgB,GAAA,KAAAb,EAAA,KAAkGI,OAAOI,GAAA,sBAAyBX,EAAAgB,GAAA,+CAAAhB,EAAAgB,GAAA,KAAAb,EAAA,OAA8EI,OAAOK,GAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA,OAA8B,QAEp+DgB,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAhG,EACA4D,GATA,EAVA,SAAAqC,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/0.a6e1c6f006125b19f52c.js","sourcesContent":["<template>\n<div class=\"login\">\r\n    <Row type=\"flex\" justify=\"center\" align=\"middle\" id=\"login\" v-bind:style=\"{height:loginBodyHeight+'px'}\">\r\n        <Col :xs=\"1\" :sm=\"6\" :md=\"6\" :lg=\"10\"></Col>\r\n        <Col :xs=\"22\" :sm=\"12\" :md=\"12\" :lg=\"4\">\r\n        <div id=\"loginBox\">\r\n            <p id=\"loginTitle\">\r\n                <span>登陆表单</span>\r\n            </p>\r\n            <!--表单-->\r\n            <Form ref=\"loginForm\" :model=\"loginForm\" :rules=\"ruleCustom\">\r\n                <FormItem prop=\"user\">\r\n                    <Input type=\"text\" v-model=\"loginForm.user\" placeholder=\"请输入用户名\"></Input>\r\n                </FormItem>\r\n                <FormItem prop=\"passwd\">\r\n                    <Input type=\"password\" v-model=\"loginForm.passwd\" placeholder=\"请输入密码\"></Input>\r\n                </FormItem>\r\n                <FormItem>\r\n                    <Checkbox v-model=\"loginForm.useW3c\" @on-change=\"changeUseW3c\">是否使用W3c账号</Checkbox>\r\n                </FormItem>\r\n                <FormItem style=\"text-align:center;\">\r\n                    <Button @click=\"handleSubmit('loginForm')\">提交</Button>\r\n                    <Button type=\"text\" id=\"loginLostPwdBtn\">忘记密码</Button>\r\n                </FormItem>\r\n            </Form>\r\n            <div id=\"loginInfo\">\r\n                <p id=\"loginLinkCreateAccount\">\r\n                    <font>暂无账号?</font>\r\n                    <a>新建帐号</a>\r\n                </p>\r\n                <p id=\"loginCompanyLogo\">\r\n                    <Icon type=\"ios-grid-view\"></Icon>\r\n                    Gentelella Alela！\r\n                </p>\r\n                <p id=\"loginCompanyInfo\">Copyright (c) 2016-present, iView</p>\r\n            </div>\r\n        </div>\r\n        </Col>\r\n        <Col :xs=\"1\" :sm=\"6\" :md=\"6\" :lg=\"10\"></Col>\r\n    </Row>\r\n</div>\n</template>\r\n\r\n<script>\nimport Vue from 'vue'\nVue.prototype.$Message = Message; //Message的注册应该使用下面的方法\n//导入iview样式\nimport {\n    Row,\n    Col,\n    Form,\n    FormItem,\n    Input,\n    Checkbox,\n    Button,\n    Icon,\n    Message\n} from 'iview';\n\nexport default {\n    name: 'Login',\n    data() {\n        //表单验证方法\n        const validateUser = (rule, value, callback) => {\n            if (value === '') {\n                callback(new Error('请输入正确的用户名'));\n            } else {\n                callback();\n            }\n        };\n        const validatePass = (rule, value, callback) => {\n            if (value === '') {\n                callback(new Error('请输入正确的密码'));\n            } else {\n                callback();\n            }\n        };\n        return {\n            loginBodyHeight: 400,\n            loginForm: {\n                user: '',\n                passwd: ''\n            },\n            ruleCustom: {\n                user: [{\n                    validator: validateUser,\n                    trigger: 'blur'\n                }],\n                passwd: [{\n                    validator: validatePass,\n                    trigger: 'blur'\n                }]\n            }\n        }\n    },\n    mounted() {\n        //登陆界面高度默认值\n        this.loginBodyHeight = document.documentElement.clientHeight;\n        /**\n         * [onresize 监听浏览器窗口改变时修改组件高度\n         * window.onresize只是一个回掉改变，addEventListener才是监听]\n         * @return {[type]} [description]\n         */\n        window.addEventListener('resize', () => {\n            let bodyHeight = document.documentElement.clientHeight;\n            if (bodyHeight > 400) {\n                this.loginBodyHeight = document.documentElement.clientHeight;\n            } else {\n                this.loginBodyHeight = 400;\n            }\n        });\n    },\n    methods: {\n        changeUseW3c() {\n            this.useW3c = !this.useW3c;\n        },\n        handleSubmit(name) {\n            //利用$axios向后台发送请求\n            let _self = this;\n            this.$refs[name].validate((valid) => {\n                if (valid) {\n                    //利用qs解决后台获取不到post数据\n                    var obj = this.$qs.stringify({\n                        account: this.loginForm.user,\n                        password: this.loginForm.passwd\n                    });\n                    this.$axios.post('/api/acl_user/login', obj).then(function(res) {\n                        console.log(res);\n                        //存储sessionStorage【将对象转为json字符串存储】\n                        sessionStorage.setItem('userInfo', _self.loginForm.user);\n                        if (res.data.code == 200) {\n                            _self.$router.push({\n                                path: '/home'\n                            })\n                        } else {\n                            _self.$Message.error('后台获取数据失败,请验证用户名和密码后重新输入');\n                        }\n                    });\n                } else {\n                    this.$Message.error('失败');\n                }\n            })\n        }\n    },\n    components: {\n        Row,\n        Col,\n        Form,\n        FormItem,\n        Input,\n        Checkbox,\n        Button,\n        Icon,\n        Message\n    }\n}\n</script>\r\n<style scoped=\"scoped\" media=\"screen\">\n#login {\r\n    background-color: #F7F7F7;\r\n    height: 400px;\r\n}\r\n\r\n#loginBox {\r\n    height: 400px;\r\n    width: 100%;\r\n}\r\n\r\n#loginTitle {\r\n    display: block;\r\n    height: 40px;\r\n    font-size: 25px;\r\n    color: #73879C;\r\n    text-align: center;\r\n    margin-bottom: 24px;\r\n}\r\n\r\n#loginTitle::after,\r\n#loginTitle::before {\r\n    content: \"\";\r\n    width: 20%;\r\n    height: 1px;\r\n    background: #7e7e7e;\r\n    position: absolute;\r\n    top: 20px;\r\n}\r\n\r\n#loginTitle::before {\r\n    left: 0;\r\n}\r\n\r\n#loginTitle::after {\r\n    right: 0;\r\n}\r\n\r\n#loginLostPwdBtn {\r\n    margin-left: 30px;\r\n}\r\n\r\n#loginInfo {\r\n    text-align: center;\r\n    border-top: 1px solid #D8D8D8;\r\n    padding-top: 10px;\r\n}\r\n\r\n#loginLinkCreateAccount {\r\n    color: #73879C;\r\n}\r\n\r\n#loginLinkCreateAccount a {\r\n    color: #73879C;\r\n}\r\n\r\n#loginLinkCreateAccount a:hover {\r\n    color: #23527c;\r\n}\r\n\r\n#loginCompanyLogo {\r\n    font-size: 25px;\r\n    margin: 30px 0;\r\n}\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('Row',{style:({height:_vm.loginBodyHeight+'px'}),attrs:{\"type\":\"flex\",\"justify\":\"center\",\"align\":\"middle\",\"id\":\"login\"}},[_c('Col',{attrs:{\"xs\":1,\"sm\":6,\"md\":6,\"lg\":10}}),_vm._v(\" \"),_c('Col',{attrs:{\"xs\":22,\"sm\":12,\"md\":12,\"lg\":4}},[_c('div',{attrs:{\"id\":\"loginBox\"}},[_c('p',{attrs:{\"id\":\"loginTitle\"}},[_c('span',[_vm._v(\"登陆表单\")])]),_vm._v(\" \"),_c('Form',{ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.ruleCustom}},[_c('FormItem',{attrs:{\"prop\":\"user\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入用户名\"},model:{value:(_vm.loginForm.user),callback:function ($$v) {_vm.$set(_vm.loginForm, \"user\", $$v)},expression:\"loginForm.user\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"prop\":\"passwd\"}},[_c('Input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.loginForm.passwd),callback:function ($$v) {_vm.$set(_vm.loginForm, \"passwd\", $$v)},expression:\"loginForm.passwd\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Checkbox',{on:{\"on-change\":_vm.changeUseW3c},model:{value:(_vm.loginForm.useW3c),callback:function ($$v) {_vm.$set(_vm.loginForm, \"useW3c\", $$v)},expression:\"loginForm.useW3c\"}},[_vm._v(\"是否使用W3c账号\")])],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"text-align\":\"center\"}},[_c('Button',{on:{\"click\":function($event){_vm.handleSubmit('loginForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"text\",\"id\":\"loginLostPwdBtn\"}},[_vm._v(\"忘记密码\")])],1)],1),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"loginInfo\"}},[_c('p',{attrs:{\"id\":\"loginLinkCreateAccount\"}},[_c('font',[_vm._v(\"暂无账号?\")]),_vm._v(\" \"),_c('a',[_vm._v(\"新建帐号\")])],1),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"loginCompanyLogo\"}},[_c('Icon',{attrs:{\"type\":\"ios-grid-view\"}}),_vm._v(\"\\r\\n                    Gentelella Alela！\\r\\n                \")],1),_vm._v(\" \"),_c('p',{attrs:{\"id\":\"loginCompanyInfo\"}},[_vm._v(\"Copyright (c) 2016-present, iView\")])])],1)]),_vm._v(\" \"),_c('Col',{attrs:{\"xs\":1,\"sm\":6,\"md\":6,\"lg\":10}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3af27c66\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3af27c66\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3af27c66\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3af27c66\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}